"use strict";var W=Math.pow;(self.webpackChunkiobroker_vis_widgets_abfallkalender=self.webpackChunkiobroker_vis_widgets_abfallkalender||[]).push([["src_Abfallkalender_jsx"],{31984:function(D,a,t){t.r(a);var r=t(4819),o=t.n(r),s=t(55973),d=t(42577),i=t(58503),C=t.n(i),u=t(75606),M=t.n(u),c=t(88411),T=t.n(c),O=t(30272),m=(I,f,E)=>new Promise((R,v)=>{var l=_=>{try{n(E.next(_))}catch(P){v(P)}},e=_=>{try{n(E.throw(_))}catch(P){v(P)}},n=_=>_.done?R(_.value):Promise.resolve(_.value).then(l,e);n((E=E.apply(I,f)).next())});const p=()=>({root:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",width:"100%",overflow:"hidden"}});class g extends(window.visRxWidget||c.VisRxWidget){constructor(f){super(f),this.refTrashIcon=o().createRef()}static getWidgetInfo(){return{id:"tplAbfallkalender",visSet:"abfallkalender",visSetLabel:"vis_2_widgets_abfallkalender",visSetColor:"#63C149",visName:u.I18n.t("vis_2_widgets_abfallkalender"),visAttrs:[{name:"common",label:"vis_2_widgets_abfallkalender_common",fields:[{name:"oid",type:"id",label:"vis_2_widgets_abfallkalender_oid"},{name:"trashcolor",label:"vis_2_widgets_abfallkalender_trashcolor",type:"color"},{name:"trashcolorfactor",label:"vis_2_widgets_abfallkalender_trashcolor_factor",type:"slider",min:-1,max:1,step:.1},{name:"dateformat",label:"vis_2_widgets_abfallkalender_dateformat",type:"select",options:[{value:"short",label:"vis_2_widgets_abfallkalender_dateformat_short"},{value:"long",label:"vis_2_widgets_abfallkalender_dateformat_long"}],default:"short"},{name:"whatsapplogo",label:"vis_2_widgets_abfallkalender_whatsapplogo",type:"checkbox"},{name:"blink",label:"vis_2_widgets_abfallkalender_blink",type:"checkbox"}],onchange:(f,E,R,v)=>m(this,null,function*(){const l=yield v.getObject(E.oid);console.log("onchange in oid field"),l&&l.common&&(E.whatsapplogo=l.common.whatsapplogo!==void 0?l.common.whatsapplogo:!0,E.blink=l.common.blink!==void 0?l.common.blink:!0,E.dateformat=l.common.dateformat!==void 0?l.common.dateformat:"short",E.trashcolor=l.common.trashcolor!==void 0?l.common.trashcolor:"",E.trashcolorfactor=l.common.trashcolorfactor!==void 0?l.common.trashcolorfactor:-.3,R(E))})}],visPrev:"widgets/abfallkalender/img/abfallkalender.png"}}propertiesUpdate(){return m(this,null,function*(){if(this.state.rxData.oid&&this.state.rxData.oid!=="nothing_selected"&&(!this.state.object||this.state.rxData.oid!==this.state.object._id)){const f=yield this.props.socket.getObject(this.state.rxData.oid);this.setState({object:f})}this.renderTrash()})}componentDidMount(){super.componentDidMount(),this.propertiesUpdate()}getWidgetInfo(){return g.getWidgetInfo()}onRxDataChanged(){this.propertiesUpdate()}onRxStyleChanged(){}onStateUpdated(f,E){}renderTrash(){const{blink:f,whatsapplogo:E,dateformat:R,trashcolor:v,trashcolorfactor:l}=this.state.data;return this.refTrashIcon.current.childNodes.forEach(e=>{if(e.id==="tonne"&&(v===""?this.state.data.trashcolor=e.attributes.fill.nodeValue:e.attributes.fill.nodeValue=this.state.data.trashcolor,console.log(`Farbe der Tonne ist: ${e.attributes.fill.nodeValue}`)),e.id==="tonne-innen"){const n=v.replace("rgba(","").replace(")","").split(","),_=parseInt(n[0]),P=parseInt(n[1]),U=parseInt(n[2]),h=1+l,A=`rgba(${_*h},${P*h},${U*h},1)`;e.attributes.fill.nodeValue=A,console.log(`Farbe der Tonne innen ist: ${e.attributes.fill.nodeValue}`)}e.id==="whatsapp"&&(e.attributes.style.value=`visibility: ${E===!0?"visible":"hidden"};`),e.id.substr(0,11-1)==="Abfuhrdatum"&&console.log(`Abfuhrdatum: ${e.innerHTML}`),e.id.substr(0,10-1)==="AnzahlTage"&&console.log(`in Tagen: ${e.innerHTML}`)}),!0}renderWidgetBody(f){return super.renderWidgetBody(f),o().createElement(d.Z,{class:`"card-trash${f.id}"`,style:{width:"100%",height:"100%"}},o().createElement(s.Z,{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},o().createElement(O.r,{class:`"trashicon${f.id}"`,ref:this.refTrashIcon})))}}a.default=(0,i.withStyles)(p)((0,i.withTheme)(g))},55973:function(D,a,t){var r=t(87462),o=t(63366),s=t(4819),d=t.n(s),i=t(15854),C=t.n(i),u=t(64983),M=t.n(u),c=t(13957),T=t(82500),O=t(89857),m=t(4502),p=t(67557);const g=["className","component"],I=R=>{const{classes:v}=R,l={root:["root"]};return(0,c.Z)(l,m.N,v)},f=(0,T.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(R,v)=>v.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),E=s.forwardRef(function(v,l){const e=(0,O.Z)({props:v,name:"MuiCardContent"}),{className:n,component:_="div"}=e,P=(0,o.Z)(e,g),U=(0,r.Z)({},e,{component:_}),h=I(U);return(0,p.jsx)(f,(0,r.Z)({as:_,className:M()(h.root,n),ownerState:U,ref:l},P))});a.Z=E},4502:function(D,a,t){t.d(a,{N:function(){return s}});var r=t(67402),o=t(85111);function s(i){return(0,o.Z)("MuiCardContent",i)}const d=(0,r.Z)("MuiCardContent",["root"]);a.Z=d},42577:function(D,a,t){var r=t(87462),o=t(63366),s=t(4819),d=t.n(s),i=t(15854),C=t.n(i),u=t(64983),M=t.n(u),c=t(13957),T=t(82500),O=t(89857),m=t(30464),p=t(53478),g=t(67557);const I=["className","raised"],f=v=>{const{classes:l}=v,e={root:["root"]};return(0,c.Z)(e,p.y,l)},E=(0,T.ZP)(m.Z,{name:"MuiCard",slot:"Root",overridesResolver:(v,l)=>l.root})(()=>({overflow:"hidden"})),R=s.forwardRef(function(l,e){const n=(0,O.Z)({props:l,name:"MuiCard"}),{className:_,raised:P=!1}=n,U=(0,o.Z)(n,I),h=(0,r.Z)({},n,{raised:P}),A=f(h);return(0,g.jsx)(E,(0,r.Z)({className:M()(A.root,_),elevation:P?8:void 0,ref:e,ownerState:h},U))});a.Z=R},53478:function(D,a,t){t.d(a,{y:function(){return s}});var r=t(67402),o=t(85111);function s(i){return(0,o.Z)("MuiCard",i)}const d=(0,r.Z)("MuiCard",["root"]);a.Z=d},30464:function(D,a,t){var r=t(63366),o=t(87462),s=t(4819),d=t.n(s),i=t(15854),C=t.n(i),u=t(64983),M=t.n(u),c=t(13957),T=t(51539),O=t.n(T),m=t(82500),p=t(29314),g=t(89857),I=t(19486),f=t(67557);const E=["className","component","elevation","square","variant"],R=e=>{const{square:n,elevation:_,variant:P,classes:U}=e,h={root:["root",P,!n&&"rounded",P==="elevation"&&`elevation${_}`]};return(0,c.Z)(h,I.J,U)},v=(0,m.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:_}=e;return[n.root,n[_.variant],!_.square&&n.rounded,_.variant==="elevation"&&n[`elevation${_.elevation}`]]}})(({theme:e,ownerState:n})=>{var _;return(0,o.Z)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!n.square&&{borderRadius:e.shape.borderRadius},n.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},n.variant==="elevation"&&(0,o.Z)({boxShadow:(e.vars||e).shadows[n.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${(0,T.alpha)("#fff",(0,p.Z)(n.elevation))}, ${(0,T.alpha)("#fff",(0,p.Z)(n.elevation))})`},e.vars&&{backgroundImage:(_=e.vars.overlays)==null?void 0:_[n.elevation]}))}),l=s.forwardRef(function(n,_){const P=(0,g.Z)({props:n,name:"MuiPaper"}),{className:U,component:h="div",elevation:A=1,square:L=!1,variant:B="elevation"}=P,K=(0,r.Z)(P,E),y=(0,o.Z)({},P,{component:h,elevation:A,square:L,variant:B}),b=R(y);return(0,f.jsx)(v,(0,o.Z)({as:h,ownerState:y,className:M()(b.root,U),ref:_},K))});a.Z=l},19486:function(D,a,t){t.d(a,{J:function(){return s}});var r=t(67402),o=t(85111);function s(i){return(0,o.Z)("MuiPaper",i)}const d=(0,r.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);a.Z=d},29314:function(D,a){const t=r=>{let o;return r<1?o=5.11916*W(r,2):o=4.5*Math.log(r+1)+2,(o/100).toFixed(2)};a.Z=t},10297:function(D,a){const t=s=>s,o=(()=>{let s=t;return{configure(d){s=d},generate(d){return s(d)},reset(){s=t}}})();a.Z=o},13957:function(D,a,t){t.d(a,{Z:function(){return r}});function r(o,s,d=void 0){const i={};return Object.keys(o).forEach(C=>{i[C]=o[C].reduce((u,M)=>{if(M){const c=s(M);c!==""&&u.push(c),d&&d[M]&&u.push(d[M])}return u},[]).join(" ")}),i}},85111:function(D,a,t){t.d(a,{Z:function(){return s}});var r=t(10297);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function s(d,i,C="Mui"){const u=o[i];return u?`${C}-${u}`:`${r.Z.generate(d)}-${i}`}},67402:function(D,a,t){t.d(a,{Z:function(){return o}});var r=t(85111);function o(s,d,i="Mui"){const C={};return d.forEach(u=>{C[u]=(0,r.Z)(s,u,i)}),C}},52455:function(D,a,t){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=t(4819),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function u(M,c,T){var O,m={},p=null,g=null;T!==void 0&&(p=""+T),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(g=c.ref);for(O in c)d.call(c,O)&&!C.hasOwnProperty(O)&&(m[O]=c[O]);if(M&&M.defaultProps)for(O in c=M.defaultProps,c)m[O]===void 0&&(m[O]=c[O]);return{$$typeof:o,type:M,key:p,ref:g,props:m,_owner:i.current}}a.Fragment=s,a.jsx=u,a.jsxs=u},67557:function(D,a,t){D.exports=t(52455)}}]);

//# sourceMappingURL=src_Abfallkalender_jsx.0f1af66d.chunk.js.map